String ptr = "<!DOCTYPE html>\n";
ptr += "<html lang='en'>\n";
ptr += "<head>\n";
ptr += "    <meta charset='UTF-8'>\n";
ptr += "    <title>Futuristic Light Control Webpage</title>\n";
ptr += "    <style>\n";
ptr += "        @import url(https://fonts.googleapis.com/css?family=Shadows+Into+Light);\n";
ptr += "        body {\n";
ptr += "            background-color: #2c3e50;\n";
ptr += "            color: #ecf0f1;\n";
ptr += "            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n";
ptr += "            margin: 0 auto;\n";
ptr += "            padding: 20px;\n";
ptr += "            background-color: #151843;\n";
ptr += "            overflow:hidden;\n";
ptr += "            touch-action: none;\n";
ptr += "        }\n";
ptr += "\n";
ptr += "        .container {\n";
ptr += "            background-color: #34495e;\n";
ptr += "            border-radius: 15px;\n";
ptr += "            box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);\n";
ptr += "            margin: auto;\n";
ptr += "            padding: 17px;\n";
ptr += "            width: 50%;\n";
ptr += "            height: 80vh;\n";
ptr += "            margin: 0 auto;\n";
ptr += "        }\n";
ptr += "\n";
ptr += "        @media ( max-width: 2000px ){\n";
ptr += "            .container{\n";
ptr += "                position: relative;\n";
ptr += "                left: -20%;\n";
ptr += "            }\n";
ptr += "            \n";
ptr += "        }\n";
ptr += "\n";
ptr += "        .slider-container {\n";
ptr += "            margin: 30px 0;\n";
ptr += "            top: -10vh;\n";
ptr += "            height: 20vh;\n";
ptr += "        }\n";
ptr += "\n";
ptr += "        .slider {\n";
ptr += "            position: absolute;\n";
ptr += "            top: 41vh;\n";
ptr += "            width: 70%;\n";
ptr += "            height: 20vh;\n";
ptr += "            left: 15%;\n";
ptr += "        }\n";
ptr += "\n";
ptr += "        .slider::-webkit-slider-thumb{\n";
ptr += "            width: 10vw;\n";
ptr += "            height: 10vh;\n";
ptr += "            background-color: white;\n";
ptr += "            -webkit-appearance: none;\n";
ptr += "            appearance: none;\n";
ptr += "            border-radius: 10%; \n";
ptr += "        }\n";
ptr += "\n";
ptr += "        #night-mode {\n";
ptr += "            position: absolute;\n";
ptr += "            top: 46vh;\n";
ptr += "            left: 1vw;\n";
ptr += "            \n";
ptr += "        }\n";
ptr += "\n";
ptr += "        .state-buttons{\n";
ptr += "            width: 10vh;\n";
ptr += "            height: 10vh;\n";
ptr += "            font-size: 6vh;\n";
ptr += "            border-radius: 20%;\n";
ptr += "        }\n";
ptr += "\n";
ptr += "        #color-change{\n";
ptr += "            position: absolute;\n";
ptr += "            top: 46vh;\n";
ptr += "            left: 45vw;\n";
ptr += "        }\n";
ptr += "\n";
ptr += "\n";
ptr += "        .timer-controls {\n";
ptr += "            margin-top: 10px;\n";
ptr += "            left: 0;\n";
ptr += "            height\n";
ptr += "        }\n";
ptr += "        \n";
ptr += "        .timer-row label, .timer-row input, .timer-row select, .timer-row {\n";
ptr += "            margin-right: 10px;\n";
ptr += "        }\n";
ptr += "        \n";
ptr += "        .timer-list {\n";
ptr += "            text-align: center;\n";
ptr += "            background-color: #16a085;\n";
ptr += "            border-radius: 5px;\n";
ptr += "            padding: 10px;\n";
ptr += "        }\n";
ptr += "        @media ( max-width: 500px ){\n";
ptr += "            .timer-list {\n";
ptr += "                position: relative;\n";
ptr += "            }\n";
ptr += "        } \n";
ptr += "\n";
ptr += "        @media ( max-width: 2000px ){\n";
ptr += "            .timer-list {\n";
ptr += "                position: absolute;\n";
ptr += "                width: 40%;\n";
ptr += "                top: 2.3%;\n";
ptr += "                left:56%;\n";
ptr += "            }\n";
ptr += "        } \n";
ptr += "        \n";
ptr += "\n";
ptr += "        .timer-item {\n";
ptr += "            align-items: center;\n";
ptr += "            border-bottom: 1px solid #ecf0f1;\n";
ptr += "            display: flex;\n";
ptr += "            justify-content: space-between;\n";
ptr += "            padding: 10px 0;\n";
ptr += "        }\n";
ptr += "        .timer-item:last-child {\n";
ptr += "            border-bottom: none;\n";
ptr += "        }\n";
ptr += "\n";
ptr += "        @media ( max-width: 500px ){\n";
ptr += "            .futuristic-input, .futuristic-select {\n";
ptr += "            position: absolute;\n";
ptr += "            background-color: #34495e;\n";
ptr += "            border: 1px solid #ecf0f1;\n";
ptr += "            border-radius: 5px;\n";
ptr += "            color: white;\n";
ptr += "            font-size: 60px;\n";
ptr += "            padding: 0;\n";
ptr += "            width: 30%;\n";
ptr += "            }\n";
ptr += "\n";
ptr += "            .futuristic-input{\n";
ptr += "                left: 30%;\n";
ptr += "                top: 50vh;\n";
ptr += "                height: 10%;\n";
ptr += "            }\n";
ptr += "\n";
ptr += "            .futuristic-select{\n";
ptr += "                left: 30%;\n";
ptr += "                top: 58.75vh;\n";
ptr += "                height: 10%;\n";
ptr += "            }\n";
ptr += "\n";
ptr += "            #addTimer{\n";
ptr += "                position: absolute;\n";
ptr += "                top: 50vh;\n";
ptr += "                left: 52%; \n";
ptr += "                width: 20%; \n";
ptr += "                height: 20%; \n";
ptr += "                margin: 0; \n";
ptr += "                padding: 0; \n";
ptr += "                border: 1px solid white; \n";
ptr += "                color: white;\n";
ptr += "                font-size: 3vh;\n";
ptr += "                background-color: #34495e;\n";
ptr += "            }\n";
ptr += "        }\n";
ptr += "\n";
ptr += "        @media ( max-width: 2000px ){\n";
ptr += "            .futuristic-input, .futuristic-select {\n";
ptr += "            position: absolute;\n";
ptr += "            background-color: #34495e;\n";
ptr += "            border: 1px solid #ecf0f1;\n";
ptr += "            border-radius: 5px;\n";
ptr += "            color: white;\n";
ptr += "            font-size: 60px;\n";
ptr += "            width: 25%;\n";
ptr += "            padding: 0;\n";
ptr += "            }\n";
ptr += "\n";
ptr += "            .futuristic-input{\n";
ptr += "                left: 5%;\n";
ptr += "                top: 65vh;\n";
ptr += "                height: 10%;\n";
ptr += "            }\n";
ptr += "\n";
ptr += "            .futuristic-select{\n";
ptr += "                left: 37%;\n";
ptr += "                top: 65vh;\n";
ptr += "                height: 10%;\n";
ptr += "            }\n";
ptr += "\n";
ptr += "            #addTimer{\n";
ptr += "                position: absolute;\n";
ptr += "                top: 65vh;\n";
ptr += "                left: 70%; \n";
ptr += "                width: 24%; \n";
ptr += "                height: 10%; \n";
ptr += "                margin: 0; \n";
ptr += "                padding: 0; \n";
ptr += "                border: 1px solid white; \n";
ptr += "                color: white;\n";
ptr += "                font-size: 3vh;\n";
ptr += "                background-color: #34495e;\n";
ptr += "                border-radius: 5px;\n";
ptr += "            }\n";
ptr += "        }\n";
ptr += "        \n";
ptr += "        .delete-timer {\n";
ptr += "            background-color: #c0392b;\n";
ptr += "            border-radius: 50%;\n";
ptr += "            color: white;\n";
ptr += "            cursor: pointer;\n";
ptr += "            font-size: 0.8em;\n";
ptr += "            padding: 5px 8px;\n";
ptr += "        }\n";
ptr += "        .delete-timer:hover {\n";
ptr += "            background-color: #e74c3c;\n";
ptr += "        }\n";
ptr += "    \n";
ptr += "\n";
ptr += "        #wrapper {\n";
ptr += "            margin: 0 auto;\n";
ptr += "            position: relative;\n";
ptr += "            margin-top: 1%;\n";
ptr += "        }\n";
ptr += "\n";
ptr += "        .planet {\n";
ptr += "        margin: 0 auto;\n";
ptr += "        width: 300px;\n";
ptr += "        height: 300px;\n";
ptr += "        background-color: #ebf3fe;\n";
ptr += "        display: block;\n";
ptr += "        border-radius: 50%;\n";
ptr += "        position: relative;\n";
ptr += "        box-shadow: inset -40px 0px 0px #d8e8f7, inset 20px 0px 0px #ffffff, inset -50px 0px 0px 20px #e2eefa, 0px 0px 0px 20px  rgba(255, 255, 255, 0.05), 0px 0px 0px 40px  rgba(255, 255, 255, 0.025), 0px 0px 0px 60px  rgba(255, 255, 255, 0.0125);\n";
ptr += "        border: solid 10px black;\n";
ptr += "        transition: all 0.2s ease-in;\n";
ptr += "        }\n";
ptr += "    \n";
ptr += "\n";
ptr += "        .planet:after {\n";
ptr += "        content: '';\n";
ptr += "        width: 50px;\n";
ptr += "        height: 50px;\n";
ptr += "        border-radius: 50%;\n";
ptr += "        background-color: #d8e8f7;\n";
ptr += "        position: absolute;\n";
ptr += "        top: 20%;\n";
ptr += "        left: 20%;\n";
ptr += "        box-shadow: 40px -20px 0px -10px #d8e8f7, 40px 10px 0px -15px #d8e8f7;\n";
ptr += "        }\n";
ptr += "\n";
ptr += "        .face {\n";
ptr += "        position: absolute;\n";
ptr += "        width: 100px;\n";
ptr += "        top: 50%;\n";
ptr += "        left: 40%;\n";
ptr += "        }\n";
ptr += "\n";
ptr += "        .zzz1, .zzz2, .zzz3{\n";
ptr += "        color:white;\n";
ptr += "        position:absolute;\n";
ptr += "        top:0;\n";
ptr += "        right:10%;\n";
ptr += "        font-size:36px;\n";
ptr += "        opacity:0;\n";
ptr += "        font-family: 'Shadows Into Light', cursive;\n";
ptr += "            animation-name: zzz-sleep;\n";
ptr += "        animation-duration: 5s;\n";
ptr += "        animation-iteration-count: infinite;\n";
ptr += "        animation-timing-function: ease-in-out;\n";
ptr += "        }\n";
ptr += "\n";
ptr += "        .zzz1:after, .zzz2:after, .zzz3:after {\n";
ptr += "        content:'z';\n";
ptr += "        }\n";
ptr += "\n";
ptr += "        .zzz1 {\n";
ptr += "        animation-delay: 0s;\n";
ptr += "        \n";
ptr += "        }\n";
ptr += "\n";
ptr += "        .zzz2 {\n";
ptr += "        animation-delay: 1.2s;\n";
ptr += "        right:15%;\n";
ptr += "        top:3%;\n";
ptr += "        }\n";
ptr += "\n";
ptr += "        .zzz3 {\n";
ptr += "        animation-delay: 2.4s;\n";
ptr += "        right:10%;\n";
ptr += "        top:6%;\n";
ptr += "        }\n";
ptr += "\n";
ptr += "\n";
ptr += "\n";
ptr += "        .day .mouth {\n";
ptr += "        margin-top: 15px;\n";
ptr += "        height: 15px;\n";
ptr += "        width: 15px;\n";
ptr += "        diplay: block;\n";
ptr += "        border-radius: 0px 0px 50% 50%;\n";
ptr += "        background-color: transparent;\n";
ptr += "        float: left;\n";
ptr += "        border: 6px solid #151843;\n";
ptr += "        border-top: 0;\n";
ptr += "        margin-right: 10px;\n";
ptr += "        position: relative;\n";
ptr += "        margin-left:0px;\n";
ptr += "        animation-name: none;\n";
ptr += "        }\n";
ptr += "\n";
ptr += "        .mouth {\n";
ptr += "        margin-top: 15px;\n";
ptr += "        height: 25px;\n";
ptr += "        width: 25px;\n";
ptr += "        diplay: block;\n";
ptr += "        border-radius: 50%;\n";
ptr += "        background-color: #151843;\n";
ptr += "        float: left;\n";
ptr += "        border: none;\n";
ptr += "        border-top: 0;\n";
ptr += "        margin-right: 10px;\n";
ptr += "        margin-left:2px;\n";
ptr += "        position: relative;\n";
ptr += "        \n";
ptr += "            animation-name: mouth-sleep;\n";
ptr += "        animation-duration: 5s;\n";
ptr += "        animation-iteration-count: infinite;\n";
ptr += "        animation-timing-function: ease-out;\n";
ptr += "        }\n";
ptr += "\n";
ptr += "        .day .mouth:after {\n";
ptr += "        content: '';\n";
ptr += "        width: 6px;\n";
ptr += "        height: 6px;\n";
ptr += "        position: absolute;\n";
ptr += "        display: block;\n";
ptr += "        top: -3px;\n";
ptr += "        left: -6px;\n";
ptr += "        background-color: #151843;\n";
ptr += "        border-radius: 50%;\n";
ptr += "        }\n";
ptr += "\n";
ptr += "        .day .mouth:before {\n";
ptr += "        content: '';\n";
ptr += "        width: 6px;\n";
ptr += "        height: 6px;\n";
ptr += "        position: absolute;\n";
ptr += "        display: block;\n";
ptr += "        top: -3px;\n";
ptr += "        left: 15px;\n";
ptr += "        background-color: #151843;\n";
ptr += "        border-radius: 50%\n";
ptr += "        }\n";
ptr += "\n";
ptr += "        .day .eye {\n";
ptr += "        width: 20px;\n";
ptr += "        height: 20px;\n";
ptr += "        display: block;\n";
ptr += "        float: left;\n";
ptr += "        margin-right: 10px;\n";
ptr += "        animation-name: eye-blink;\n";
ptr += "        animation-duration: 10s;\n";
ptr += "        animation-iteration-count: infinite;\n";
ptr += "        animation-timing-function: ease-out;\n";
ptr += "        position: relative;\n";
ptr += "        overflow: hidden\n";
ptr += "        }\n";
ptr += "\n";
ptr += "        .eye {\n";
ptr += "        width: 20px;\n";
ptr += "        height: 20px;\n";
ptr += "        display: block;\n";
ptr += "        float: left;\n";
ptr += "        margin-right: 8px;\n";
ptr += "        position: relative;\n";
ptr += "\n";
ptr += "        }\n";
ptr += "\n";
ptr += "        .day .eye-in {\n";
ptr += "        content: '';\n";
ptr += "        width: 20px;\n";
ptr += "        height: 20px;\n";
ptr += "        background-color: #151843;\n";
ptr += "        display: block;\n";
ptr += "        position: absolute;\n";
ptr += "        top: 0px;\n";
ptr += "        left: 0px;\n";
ptr += "        border-radius: 50%;\n";
ptr += "        transform: scale(1, 1) !important;\n";
ptr += "        border:none;\n";
ptr += "        }\n";
ptr += "\n";
ptr += "\n";
ptr += "        .eye-in {\n";
ptr += "        width: 15px;\n";
ptr += "        height: 8px;\n";
ptr += "        display: block;\n";
ptr += "        position: absolute;\n";
ptr += "        top: 5px;\n";
ptr += "        left: -1px;\n";
ptr += "            border-bottom-left-radius: 15px;\n";
ptr += "            border-bottom-right-radius: 15px;\n";
ptr += "            border: 5px solid #151843;\n";
ptr += "            border-top: 0;\n";
ptr += "        }\n";
ptr += "\n";
ptr += "\n";
ptr += "\n";
ptr += "\n";
ptr += "        .pos-star1 {\n";
ptr += "        top: 50px;\n";
ptr += "        left: 50px;\n";
ptr += "        }\n";
ptr += "\n";
ptr += "        .pos-star2 {\n";
ptr += "        top: 250px;\n";
ptr += "        left: 450px;\n";
ptr += "        }\n";
ptr += "\n";
ptr += "        .pos-star3 {\n";
ptr += "        top: 240px;\n";
ptr += "        left: 5px;\n";
ptr += "        }\n";
ptr += "\n";
ptr += "        .star {\n";
ptr += "        width: 20px;\n";
ptr += "        height: 20px;\n";
ptr += "        background-color: white;\n";
ptr += "        display: block;\n";
ptr += "        border-radius: 50%;\n";
ptr += "        float: left;\n";
ptr += "        position: absolute;\n";
ptr += "        transform-origin: 50% 50%;\n";
ptr += "        animation-name: star3;\n";
ptr += "        animation-duration: 20s;\n";
ptr += "        animation-iteration-count: infinite;\n";
ptr += "        animation-timing-function: ease;\n";
ptr += "        transform-origin: 50% 50%;\n";
ptr += "        transition: all 0.3s ease-out;\n";
ptr += "        }\n";
ptr += "\n";
ptr += "        .star:before {\n";
ptr += "        width: 20px;\n";
ptr += "        height: 20px;\n";
ptr += "        content: '';\n";
ptr += "        background-color: white;\n";
ptr += "        position: absolute;\n";
ptr += "        transform: scale(1, 2) rotate(45deg);\n";
ptr += "        animation-name: star1;\n";
ptr += "        animation-duration: 3s;\n";
ptr += "        animation-iteration-count: infinite;\n";
ptr += "        animation-timing-function: ease-out;\n";
ptr += "        border-radius: 20%;\n";
ptr += "        transition: all 0.3s ease-out;\n";
ptr += "        }\n";
ptr += "\n";
ptr += "        .star:after {\n";
ptr += "        width: 20px;\n";
ptr += "        height: 20px;\n";
ptr += "        content: '';\n";
ptr += "        background-color: white;\n";
ptr += "        position: absolute;\n";
ptr += "        transform: scale(2, 1) rotate(45deg);\n";
ptr += "        animation-name: star2;\n";
ptr += "        animation-duration: 3s;\n";
ptr += "        animation-iteration-count: infinite;\n";
ptr += "        animation-timing-function: ease-out;\n";
ptr += "        animation-delay: 0.2s;\n";
ptr += "        border-radius: 20%;\n";
ptr += "        transition: all 0.3s ease-out;\n";
ptr += "        }\n";
ptr += "\n";
ptr += "        @keyframes star1 {\n";
ptr += "        0% {\n";
ptr += "            transform: scale(1, 2) rotate(45deg);\n";
ptr += "        }\n";
ptr += "        50% {\n";
ptr += "            transform: scale(1, 1) rotate(45deg);\n";
ptr += "        }\n";
ptr += "        100% {\n";
ptr += "            transform: scale(1, 2) rotate(45deg);\n";
ptr += "        }\n";
ptr += "        }\n";
ptr += "\n";
ptr += "        @keyframes star2 {\n";
ptr += "        0% {\n";
ptr += "            transform: scale(2, 1) rotate(45deg);\n";
ptr += "        }\n";
ptr += "        50% {\n";
ptr += "            transform: scale(1, 1) rotate(45deg);\n";
ptr += "        }\n";
ptr += "        100% {\n";
ptr += "            transform: scale(2, 1) rotate(45deg);\n";
ptr += "        }\n";
ptr += "        }\n";
ptr += "\n";
ptr += "        @keyframes star3 {\n";
ptr += "        0% {\n";
ptr += "            transform: rotate(0deg);\n";
ptr += "        }\n";
ptr += "        100% {\n";
ptr += "            transform: rotate(360deg);\n";
ptr += "        }\n";
ptr += "        }\n";
ptr += "\n";
ptr += "        @keyframes eye-blink {\n";
ptr += "        0% {\n";
ptr += "            transform: scale(1, 1)\n";
ptr += "        }\n";
ptr += "        2% {\n";
ptr += "            transform: scale(1, 0)\n";
ptr += "        }\n";
ptr += "        4% {\n";
ptr += "            transform: scale(1, 1)\n";
ptr += "        }\n";
ptr += "        }\n";
ptr += "\n";
ptr += "        @keyframes mouth-sleep {\n";
ptr += "        0% {\n";
ptr += "            transform: scale(1, 1)\n";
ptr += "        }\n";
ptr += "        35% {\n";
ptr += "            transform: scale(0.7, 0.7)\n";
ptr += "        }\n";
ptr += "        40% {\n";
ptr += "            transform: scale(0.7, 0.7)\n";
ptr += "        }\n";
ptr += "        75% {\n";
ptr += "            transform: scale(1, 1)\n";
ptr += "        }\n";
ptr += "        }\n";
ptr += "\n";
ptr += "        @keyframes wiggle {\n";
ptr += "        0% {\n";
ptr += "            transform: translate(0px, 0px)\n";
ptr += "        }\n";
ptr += "        50% {\n";
ptr += "            transform: translate(50px, 0px)\n";
ptr += "        }\n";
ptr += "        100% {\n";
ptr += "            transform: translate(0px, 0px)\n";
ptr += "        }\n";
ptr += "        }\n";
ptr += "\n";
ptr += "        @keyframes zzz-sleep {\n";
ptr += "        0% {\n";
ptr += "            transform: translate(0px, 0px) scale(1, 1);\n";
ptr += "            opacity:0;\n";
ptr += "\n";
ptr += "        }\n";
ptr += "        25% {\n";
ptr += "            transform: translate(-5px, -10px) scale(1.1, 1.1);\n";
ptr += "        }\n";
ptr += "        50% {\n";
ptr += "            transform: translate(8px, -20px) scale(0.9, 0.9);\n";
ptr += "            opacity:1;\n";
ptr += "        }\n";
ptr += "        75% {\n";
ptr += "            transform: translate(-15px, -30px) scale(1.1, 1.1);\n";
ptr += "        }\n";
ptr += "        100% {\n";
ptr += "            transform: translate(15px, -40px) scale(0.9, 0.9);\n";
ptr += "            opacity:0;\n";
ptr += "        }\n";
ptr += "        }\n";
ptr += "\n";
ptr += "\n";
ptr += "        @keyframes zzz-awake {\n";
ptr += "        0% {\n";
ptr += "            transform: translate(0px, 0px) scale(1, 1) rotate(0deg);\n";
ptr += "\n";
ptr += "        }\n";
ptr += "        \n";
ptr += "        100% {\n";
ptr += "            transform: translate(-15px, -30px) scale(2, 2) rotate(10deg);\n";
ptr += "                opacity:0;\n";
ptr += "        }\n";
ptr += "        \n";
ptr += "        }\n";
ptr += "\n";
ptr += "\n";
ptr += "        /* DAY TIME */\n";
ptr += "\n";
ptr += "\n";
ptr += "        .day .planet {\n";
ptr += "        background-color: #ffdb01 !important;\n";
ptr += "        box-shadow: inset -40px 0px 0px #ff8603, inset 20px 0px 0px #ffffff, inset -50px 0px 0px 20px #ffd201, 0px 0px 0px 20px  rgba(255, 210, 1, 0.2), 0px 0px 0px 40px  rgba(255, 210, 1, 0.1), 0px 0px 0px 60px  rgba(255, 210, 1, 0.05);\n";
ptr += "        }\n";
ptr += "\n";
ptr += "        .day .planet:after {\n";
ptr += "        background-color: #ffd201;\n";
ptr += "        box-shadow: 40px -20px 0px -10px #ffd201, 40px 10px 0px -15px #ffd201;\n";
ptr += "        }\n";
ptr += "\n";
ptr += "        .day .star:after,\n";
ptr += "        .day .star:before {\n";
ptr += "        animation-name: none;\n";
ptr += "        transform: none;\n";
ptr += "        width: 50px;\n";
ptr += "        height: 50px;\n";
ptr += "        border-radius: 50%\n";
ptr += "        }\n";
ptr += "\n";
ptr += "        .day .star:after {\n";
ptr += "        left: 150%;\n";
ptr += "        box-shadow: -50px -25px 0px 10px white, -10px -25px 0px -5px white, inset -7px 0px 0px 3px #ebf3fe;\n";
ptr += "        } \n";
ptr += "\n";
ptr += "        .day .star:before {\n";
ptr += "        left: 50%;\n";
ptr += "        top: 0;\n";
ptr += "        border-radius: 0;\n";
ptr += "        width: 75px;\n";
ptr += "        }\n";
ptr += "\n";
ptr += "        #nightbg {\n";
ptr += "        background-color: lightblue;\n";
ptr += "        width:100px;\n";
ptr += "        height:100px;\n";
ptr += "        position:absolute;\n";
ptr += "        top: 100px;\n";
ptr += "        left: calc(50% - 50px);\n";
ptr += "        border-radius:50%;\n";
ptr += "        transition:0.7s;\n";
ptr += "        z-index: -10;\n";
ptr += "        }\n";
ptr += "\n";
ptr += "        #nightbg:before {\n";
ptr += "        content:'';\n";
ptr += "        width:200px;\n";
ptr += "        height:200px;\n";
ptr += "        border-radius:50%;\n";
ptr += "        background-color:rgba(173, 216, 230, 0.1);\n";
ptr += "        position:absolute;\n";
ptr += "        left:-50px;\n";
ptr += "        top:-50px;\n";
ptr += "        }\n";
ptr += "\n";
ptr += "        .day #nightbg {\n";
ptr += "        transform: scale(40);\n";
ptr += "        }\n";
ptr += "\n";
ptr += "        .day .star {\n";
ptr += "        width: 50px;\n";
ptr += "        height: 50px;\n";
ptr += "        animation-name: wiggle;\n";
ptr += "        animation-duration: 10s;\n";
ptr += "        }\n";
ptr += "\n";
ptr += "        .day .zzz1:after, .day .zzz2:after, .day .zzz3:after {\n";
ptr += "        content:'!';\n";
ptr += "        }\n";
ptr += "\n";
ptr += "        .day .zzz1, .day .zzz2, .day .zzz3{\n";
ptr += "        color:white;\n";
ptr += "        top:0;\n";
ptr += "        right:10%;\n";
ptr += "            animation-name: zzz-awake;\n";
ptr += "        animation-duration: 1s;\n";
ptr += "        animation-iteration-count: 1;\n";
ptr += "        animation-timing-function: ease-in-out;\n";
ptr += "        animation-fill-mode: forwards;\n";
ptr += "        opacity:1;\n";
ptr += "        }\n";
ptr += "\n";
ptr += "\n";
ptr += "        .day .zzz1 {\n";
ptr += "\n";
ptr += "        }\n";
ptr += "\n";
ptr += "        .day .zzz2 {\n";
ptr += "        animation-delay: 0.2s;\n";
ptr += "        right:15% !important; \n";
ptr += "        top:3%;\n";
ptr += "        }\n";
ptr += "\n";
ptr += "        .day .zzz3 {\n";
ptr += "        animation-delay: 0.4s;\n";
ptr += "        right:10% !important;\n";
ptr += "        top:6%;\n";
ptr += "        }\n";
ptr += "\n";
ptr += "    </style>\n";
ptr += "</head>\n";
ptr += "<body>\n";
ptr += "    <div class='container'>\n";
ptr += "        <div id='wrapper'>\n";
ptr += "            <div id='nightbg'></div>\n";
ptr += "            <div class='zzz1'></div>\n";
ptr += "            <div class='zzz2'></div>\n";
ptr += "            <div class='zzz3'></div>\n";
ptr += "            <div class='planet' id = 'button' onclick='toggleLight()'> \n";
ptr += "            <div class='planet-circle'></div>\n";
ptr += "            <div class='face'>\n";
ptr += "                <div class='eye'>\n";
ptr += "                <div class='eye-in'></div>\n";
ptr += "                </div>\n";
ptr += "                <div class='mouth'></div>\n";
ptr += "                <div class='eye'>\n";
ptr += "                <div class='eye-in'></div>\n";
ptr += "                </div>\n";
ptr += "            </div>\n";
ptr += "            </div>\n";
ptr += "            <div class='star pos-star1 '></div>\n";
ptr += "            <div class='star pos-star2 '></div>\n";
ptr += "            <div class='star pos-star3 '></div>\n";
ptr += "        </div>\n";
ptr += "        <div class='slider-container'>\n";
ptr += "            <input type='range' class='slider' id='brightnessSlider' min='0' max='30' value='10'>\n";
ptr += "            <button id = 'night-mode' class = 'state-buttons'>🌛</button>\n";
ptr += "            <button id = 'color-change' class = 'state-buttons'>🔯</button>\n";
ptr += "        </div>\n";
ptr += "        <div class='timer-controls'>\n";
ptr += "            <div class='timer-row' style = 'height: 20vh'>\n";
ptr += "                <input type='time' id='timerInput' class='futuristic-input' value = '00:00'>\n";
ptr += "                <button id='addTimer'>Add Timer</button>\n";
ptr += "                <select id='timerAction' class='futuristic-select'>\n";
ptr += "                    <option value='on'>ON</option>\n";
ptr += "                    <option value='off'>OFF</option>\n";
ptr += "                </select>\n";
ptr += "                \n";
ptr += "            </div>\n";
ptr += "        </div>\n";
ptr += "        \n";
ptr += "    </div>\n";
ptr += "\n";
ptr += "    <div class='timer-list' id='timerList'>\n";
ptr += "        <h2>Set Timers</h2>\n";
ptr += "    </div>\n";
ptr += "\n";
ptr += "    <script>\n";
ptr += "        const espIp = 'http://192.168.1.200:80/'\n";
ptr += "        let lightOn = false;\n";
ptr += "        const lightStatus = document.getElementById('lightStatus');\n";
ptr += "        const toggleLightButton = document.getElementById('button');\n";
ptr += "        const brightnessSlider = document.getElementById('brightnessSlider');\n";
ptr += "        const timerInput = document.getElementById('timerInput');\n";
ptr += "        const timerAction = document.getElementById('timerAction');\n";
ptr += "        const addTimerButton = document.getElementById('addTimer');\n";
ptr += "        const timerList = document.getElementById('timerList');\n";
ptr += "        const nightmodeButton = document.getElementById( 'night-mode' );\n";
ptr += "        const colorChangeButton = document.getElementById( 'color-change' );\n";
ptr += "        const timers = [];\n";
ptr += "\n";
ptr += "        var currentBrightValue = 0;\n";
ptr += "        var toSetBrightValue = 0;\n";
ptr += "\n";
ptr += "        function checkStates(){\n";
ptr += "            setTimeout(() => {\n";
ptr += "                fetch( espIp + 'getstates' ).then( response => response.text() ).then( body => { \n";
ptr += "                    let splitted = body.split( '|' );\n";
ptr += "\n";
ptr += "                    //set the light state to the correct value\n";
ptr += "                    if ( splitted[ 1 ].includes( 'true' ) ){\n";
ptr += "                        lightOn = true;\n";
ptr += "                    } else{\n";
ptr += "                        lightOn = false;\n";
ptr += "                    }\n";
ptr += "\n";
ptr += "                    //set the light brightness to the correct value\n";
ptr += "                    let value = splitted[ 0 ].split( ':' )[ 1 ];\n";
ptr += "                    let brightness = parseInt( value.trim() );\n";
ptr += "                    \n";
ptr += "                    currentBrightValue = brightness;\n";
ptr += "                    brightnessSlider.value = brightness;\n";
ptr += "\n";
ptr += "                    updateLightStatus();\n";
ptr += "                    updateBrightness();\n";
ptr += "                   \n";
ptr += "                })\n";
ptr += "                \n";
ptr += "                checkStates();\n";
ptr += "            }, 1000 );\n";
ptr += "        }\n";
ptr += "        checkStates();\n";
ptr += "\n";
ptr += "\n";
ptr += "        function toggleLight() {\n";
ptr += "            lightOn = !lightOn;\n";
ptr += "\n";
ptr += "            if ( lightOn ){ fetch( espIp + 'turnon' ) }\n";
ptr += "            else { fetch( espIp + 'turnoff' ) }    \n";
ptr += "            \n";
ptr += "            updateLightStatus();\n";
ptr += "        }\n";
ptr += "\n";
ptr += "        brightnessSlider.oninput = function() {\n";
ptr += "            if (lightOn) {\n";
ptr += "                toSetBrightValue = this.value;\n";
ptr += "            }\n";
ptr += "        };\n";
ptr += "\n";
ptr += "        addTimerButton.onclick = function() {\n";
ptr += "            const time = timerInput.value;\n";
ptr += "            const action = timerAction.value;\n";
ptr += "            if (time) {\n";
ptr += "                setTimer(time, action);\n";
ptr += "            }\n";
ptr += "        };\n";
ptr += "\n";
ptr += "        nightmodeButton.onclick = function() {\n";
ptr += "            fetch( espIp + 'nightmode' );\n";
ptr += "        }\n";
ptr += "\n";
ptr += "        colorChangeButton.onclick = function(){\n";
ptr += "            fetch( espIp + 'temp' );\n";
ptr += "        }\n";
ptr += "\n";
ptr += "        function updateLightStatus() {\n";
ptr += "            let wrapper = document.getElementById( 'wrapper' );\n";
ptr += "            \n";
ptr += "            if ( wrapper.classList.contains( 'day' ) && !lightOn ){\n";
ptr += "                wrapper.classList.remove( 'day' );\n";
ptr += "            } else if ( lightOn ) {\n";
ptr += "                wrapper.classList.add( 'day' );\n";
ptr += "            }\n";
ptr += "\n";
ptr += "\n";
ptr += "            if (lightOn) {\n";
ptr += "                toggleLightButton.classList.add('sun');\n";
ptr += "                toggleLightButton.classList.remove('moon');\n";
ptr += "            } else {\n";
ptr += "                toggleLightButton.classList.add('moon');\n";
ptr += "                toggleLightButton.classList.remove('sun');\n";
ptr += "            }\n";
ptr += "            brightnessSlider.disabled = !lightOn;\n";
ptr += "        }\n";
ptr += "\n";
ptr += "        function updateBrightness() {\n";
ptr += "            if ( toSetBrightValue > currentBrightValue ){\n";
ptr += "                console.log( 'brighten' );\n";
ptr += "                fetch( espIp + 'brighten', { mode: 'no-cors' } );\n";
ptr += "            } else if ( toSetBrightValue < currentBrightValue ){\n";
ptr += "                fetch( espIp + 'dim', { mode: 'no-cors' } ); \n";
ptr += "                console.log( 'dim' );\n";
ptr += "            }\n";
ptr += "        }\n";
ptr += "\n";
ptr += "        function setTimer(time, action) {\n";
ptr += "            const [hours, minutes] = time.split(':');\n";
ptr += "            const now = new Date();\n";
ptr += "            const timerDate = new Date(now.getFullYear(), now.getMonth(), now.getDate(), parseInt(hours), parseInt(minutes));\n";
ptr += "            \n";
ptr += "            if (timerDate < now) {\n";
ptr += "                timerDate.setDate(timerDate.getDate() + 1);\n";
ptr += "            }\n";
ptr += "            \n";
ptr += "            const delay = timerDate.getTime() - now.getTime();\n";
ptr += "            const timerId = setTimeout(() => {\n";
ptr += "                lightOn = action === 'on';\n";
ptr += "                updateLightStatus();\n";
ptr += "                removeTimerFromList(timerId);\n";
ptr += "            }, delay);\n";
ptr += "\n";
ptr += "            timers.push({ timerId, time, action });\n";
ptr += "            displayTimer(time, action, timerId);\n";
ptr += "        }\n";
ptr += "\n";
ptr += "        function getTime( text ){\n";
ptr += "            let splitted = text.split( ' ' );\n";
ptr += "            for ( const element in splitted ){\n";
ptr += "                if ( splitted[ element ].includes( ':' ) && splitted[ element ].length == 5 ){\n";
ptr += "                    var time = splitted[ element ];\n";
ptr += "                }\n";
ptr += "            }\n";
ptr += "            return time;\n";
ptr += "        }\n";
ptr += "\n";
ptr += "        function getTimeDiffToNow( time ){\n";
ptr += "            var currentDate = new Date();\n";
ptr += "            var hours = currentDate.getHours();\n";
ptr += "            var minutes = currentDate.getMinutes();\n";
ptr += "\n";
ptr += "            var hoursT = parseInt( time.split( ':' )[ 0 ] );\n";
ptr += "            var minutesT = parseInt( time.split( ':' )[ 1 ] );\n";
ptr += "            \n";
ptr += "            if ( minutesT < minutes ){\n";
ptr += "                minutesT = minutesT + 60;\n";
ptr += "                hoursT = hoursT - 1;\n";
ptr += "            }\n";
ptr += "            return parseFloat( hoursT - hours ) + parseFloat( minutesT - minutes ) / 60;\n";
ptr += "        }\n";
ptr += "\n";
ptr += "        function sortTimer(){\n";
ptr += "            let lastTimer = timerList.children[ timerList.children.length - 1 ].textContent;\n";
ptr += "            lastTimer = getTime( lastTimer );\n";
ptr += "\n";
ptr += "            var mainTimeDiff = getTimeDiffToNow( lastTimer );\n";
ptr += "\n";
ptr += "            for ( const t in timerList.children ){\n";
ptr += "                if ( t > 0 ){\n";
ptr += "                    let Timet = timerList.children[ t ].textContent;\n";
ptr += "                    Timet = getTime( Timet );\n";
ptr += "                    let diff = getTimeDiffToNow( Timet );\n";
ptr += "\n";
ptr += "                    if ( mainTimeDiff < diff ){\n";
ptr += "                        let currentPos = timerList.children[ timerList.children.length - 1 ].style.position.top;\n";
ptr += "                        timerList.children[ timerList.children.length - 1 ].style.position.top = timerList.children[ t ].style.position.top;\n";
ptr += "                        timerList.children[ t ].style.position.top = currentPos;\n";
ptr += "                    }\n";
ptr += "                }\n";
ptr += "\n";
ptr += "            }\n";
ptr += "        }\n";
ptr += "\n";
ptr += "        function displayTimer(time, action, timerId) {\n";
ptr += "            const timerElement = document.createElement('div');\n";
ptr += "            timerElement.className = 'timer-item';\n";
ptr += "            timerElement.innerHTML = `\n";
ptr += "                Timer set for ${time} to ${action.toUpperCase()}\n";
ptr += "                <button class='delete-timer' onclick='deleteTimer(${timerId}, this)'>X</button>\n";
ptr += "            `;\n";
ptr += "            timerElement.dataset.timerId = timerId;\n";
ptr += "            timerList.appendChild(timerElement);\n";
ptr += "\n";
ptr += "            sortTimer();\n";
ptr += "        }\n";
ptr += "\n";
ptr += "        function deleteTimer(timerId, element) {\n";
ptr += "            clearTimeout(timerId);\n";
ptr += "            const index = timers.findIndex(t => t.timerId === timerId);\n";
ptr += "            if (index !== -1) {\n";
ptr += "                timers.splice(index, 1);\n";
ptr += "            }\n";
ptr += "            element.parentElement.remove();\n";
ptr += "        }\n";
ptr += "\n";
ptr += "        function removeTimerFromList(timerId) {\n";
ptr += "            const timerElement = timerList.querySelector(`[data-timer-id='${timerId}']`);\n";
ptr += "            if (timerElement) {\n";
ptr += "                timerElement.remove();\n";
ptr += "            }\n";
ptr += "        }\n";
ptr += "\n";
ptr += "        updateLightStatus(); // Initialize status on page load\n";
ptr += "    </script>\n";
ptr += "</body>\n";
ptr += "</html>\n";
